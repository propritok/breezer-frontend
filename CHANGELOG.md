# Changelog

Все значимые изменения в этом проекте документируются в этом файле.
Формат вдохновлен Keep a Changelog.

## [Unreleased]

### Удалено

- Убран весь код с `mounted` состоянием и `useEffect` из всех компонентов для упрощения архитектуры:
  - `PhoneInput` - убрана проверка монтирования, оставлен только основной рендер
  - `ContactFormCTA` - убрана условная отрисовка формы, упрощена логика
  - `OrderForm` - убрана проверка монтирования, оставлена только основная форма
  - `ProductSearch` - убрана условная отрисовка, упрощена логика поиска
  - `Newsletter` - убрана проверка монтирования, упрощена логика email
  - `ContactCTAButton` - убрана проверка монтирования, упрощена логика кнопки
  - `ContactForm` - убрана условная отрисовка, оставлена только основная форма
  - `ProductGallery` - убрана проверка монтирования, упрощена логика галереи
  - `ProductCard` - убрана проверка монтирования, упрощена логика карточки
  - `SiteBreadcrumbs` - убрана проверка монтирования, упрощена логика навигации
  - `SpecsTable` - убрана проверка монтирования, упрощена логика таблицы
  - Главная страница - убрана проверка монтирования, упрощена структура
  - Страница продукта - убрана проверка монтирования, упрощена логика
- Убраны неиспользуемые импорты `useEffect` и `useState` из всех компонентов
- Убраны условные рендеры с disabled состояниями для серверной отрисовки

### Добавлено

- Кнопка-CTA `ContactCTAButton` (feature): самодостаточная кнопка, открывающая модалку с формой обратной связи. Можно встраивать на любые страницы.
- Декомпозиция страницы товара `src/pages/catalog/[id].tsx` на виджеты: `ProductGallery`, `ProductHeader`, `ProductStatusChips`, `ProductPurchaseSection`, `ProductInfoBadges`, `PromoConsultationCard`.
- Общая таблица характеристик: `SpecsTable` + `getSpecsRows(product)`.
- Раздел "Описание" на странице товара: новый компонент `ProductDescription` для отображения детального описания товара.
- Поле `description` в интерфейсе `Product` для хранения описания товара.
- Детальные описания для всех продуктов в мок-данных, включая технические характеристики, особенности и рекомендации по применению.
- Поле `description` в интерфейсе `Product` для хранения описания товара.
- Интеграция серверного экшена отправки заявок: `handleCallbackForm` подключен к `ContactFormCTA` с отображением состояний загрузки/успеха/ошибки.
- В `ContactCTAButton` добавлены пропсы `action` и `onSuccess`; пробрасываются в `ContactFormCTA`.
- Новая страница `Сертификаты` (`/certificates`) с адаптивной плиточной галереей изображений на базе `PhotoSwipe` и `next/image`; добавлена вкладка в хедер. Разрешен домен изображений `dummyimage.com`.
- Слайдер «Наши работы» на главной странице: компонент `CustomerWorksSlider` на базе `swiper` с адаптивной сеткой и источниками из `public/work`.
- Юридическая информация добавлена в футере рядом с копирайтом.
- Блок «Реквизиты» добавлен на странице контактов.
- Градиентная шапка для карточки формы на странице контактов.
- Градиентная шапка в модальном окне формы обратной связи (`ContactCTAButton`).
- Якорь раздела отзывов на главной странице и ссылка на него из футера.

### Изменено

- Блок характеристик товара переделан под новый модель данных; таблица теперь сворачиваемая/раскрываемая («Показать ещё»).
- CTA на странице товара заменён на универсальный `ContactCTAButton`.
- Верстка страницы товара упрощена за счёт вынесения презентационных частей в виджеты.
- Упрощена архитектура всех компонентов за счет удаления ненужных проверок монтирования
- Улучшена производительность за счет убирания лишних useEffect и условных рендеров
- `ContactFormCTA` теперь использует серверный экшен `handleCallbackForm` из `src/app/api/actions/send-email.ts` вместо экспорта из `route.ts`, что устраняет ошибку сборки Next.js.
- Слайдер «Наши работы»: теперь использует фиксированный список изображений из `public/work` в `src/widgets/CustomerWorksSlider.tsx`;
- Страница контактов: форма заменена на переиспользуемую `ContactFormCTA`, оформление приведено к стилю «О нас»/«Процесс работы» (границы, акценты, заголовок).
- `ContactFormCTA`: добавлены полноэкранные оверлеи загрузки/успеха/ошибки; поле сообщения сделано опциональным; заданы `defaultValues`; добавлены пропсы `showMessageField` и `buttonLabel`; улучшено сообщение об ошибке с телефоном.
- Главная: вокруг блока отзывов добавлен `id="reviews"`; ссылка в футере теперь ведёт на `/#reviews`.
- `CustomerWorksSlider`: изображения переведены в формат 9:16 за счёт фиксированного `aspect-ratio` контейнера.

## [0.1.1] - 2025-08-18

### Исправлено

- Убран дублирующийся футер из `src/pages/catalog.tsx` (футер уже подключен глобально в `_app.tsx`)
- Убран дублирующийся хедер из `src/pages/contact.tsx` (хедер уже подключен глобально в `_app.tsx`)
- Решена проблема с дублированием хедера и футера на страницах

## [0.1.0] - 2025-08-18

### Добавлено

- Карточка товара на NextUI: `src/widgets/ProductCard.tsx` (изображение сверху, название, выделенная цена, кнопка «Смотреть»; кликабельна вся карточка; переход на `/catalog/[id]`).
- Динамическая страница товара: `src/pages/catalog/[id].tsx` (заготовка для будущего контента товара/каталога).
- Хлебные крошки: `src/widgets/SiteBreadcrumbs.tsx`, подключены глобально в `src/pages/_app.tsx`; скрываются на главной странице.
- Главная: секция «Популярные товары» в `src/pages/index.tsx`, рендер сетки карточек по мок-данным через `ProductCard`.

### Изменено

- Страница каталога `src/pages/catalog.tsx`: обновлена для рендера сетки карточек (через `ProductCard`) по мок-данным; переходы ведут на `/catalog/[id]`.
